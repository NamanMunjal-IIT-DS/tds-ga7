import{r as g,$ as Br,s as Fr,R as xt,g as F,h as V,j as Je,i as qt}from"./vendors-JRckiUQF.js";import{a as Wr}from"./vite-D9Bl2idj.js";/*! js-cookie v3.0.5 | MIT */function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var Hr={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function dt(e,t){function r(i,s,c){if(!(typeof document>"u")){c=He({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var p in c)c[p]&&(d+="; "+p,c[p]!==!0&&(d+="="+c[p].split(";")[0]));return document.cookie=i+"="+e.write(s,i)+d}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],c={},d=0;d<s.length;d++){var p=s[d].split("="),f=p.slice(1).join("=");try{var m=decodeURIComponent(p[0]);if(c[m]=e.read(f,m),i===m)break}catch{}}return i?c[i]:c}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",He({},s,{expires:-1}))},withAttributes:function(i){return dt(this.converter,He({},this.attributes,i))},withConverter:function(i){return dt(He({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var et=dt(Hr,{path:"/"});const cr=1e3,$r={httponly:"httpOnly",maxage:"maxAge",expires:"expires",path:"path",domain:"domain",secure:"secure",samesite:"sameSite"},Ve=new Map,qe=new Map,Ni=(e,t,r)=>{if(qe.has(e)){const n=qe.get(e);if(n&&n.ttl>Date.now()&&n.value===t&&Object.keys($r).every(i=>n.options?.[i]===r?.[i]))return}return qe.set(e,{name:e,value:t,options:r,ttl:Date.now()+cr}),et.set(e,t,r)},Li=e=>{const t=Ve.get(e);return(!t||t.ttl<Date.now())&&Ve.set(e,{value:et.get(e),ttl:Date.now()+cr}),Ve.get(e)?.value},Ui=e=>{qe.delete(e),Ve.delete(e),et.remove(e)},Ii=()=>et.get();function lr(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,s,c=[],d="",p=e.split("/");for(p[0]||p.shift();i=p.shift();)r=i[0],r==="*"?(c.push(r),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),c.push(i.substring(1,~n?n:~s?s:i.length)),d+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(d+=(~n?"?":"")+"\\"+i.substring(s))):d+="/"+i;return{keys:c,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}const zr=Br.useInsertionEffect,Vr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ur=Vr?g.useLayoutEffect:g.useEffect,qr=zr||ur,tt=e=>{const t=g.useRef([e,(...r)=>t[0](...r)]).current;return qr(()=>{t[0]=e}),t[1]},Kr="popstate",kt="pushState",Pt="replaceState",Gr="hashchange",Kt=[Kr,kt,Pt,Gr],Xr=e=>{for(const t of Kt)addEventListener(t,e);return()=>{for(const t of Kt)removeEventListener(t,e)}},hr=(e,t)=>Fr.useSyncExternalStore(Xr,e,t),Jr=()=>location.search,Yr=({ssrSearch:e=""}={})=>hr(Jr,()=>e),Gt=()=>location.pathname,Zr=({ssrPath:e}={})=>hr(Gt,e?()=>e:Gt),Qr=(e,{replace:t=!1,state:r=null}={})=>history[t?Pt:kt](r,"",e),en=(e={})=>[Zr(e),Qr],Xt=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Xt]>"u"){for(const e of[kt,Pt]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Xt,{value:!0})}const tn=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",dr=(e="")=>e==="/"?"":e,rn=(e,t)=>e[0]==="~"?e.slice(1):dr(t)+e,nn=(e="",t)=>tn(ft(dr(e)),ft(t)),sn=e=>e[0]==="?"?e.slice(1):e,ft=e=>{try{return decodeURI(e)}catch{return e}},on=e=>ft(sn(e)),fr={hook:en,searchHook:Yr,parser:lr,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},pr=g.createContext(fr),ee=()=>g.useContext(pr),mr={},wr=g.createContext(mr),Ot=()=>g.useContext(wr),Me=e=>{const[t,r]=e.hook(e);return[nn(e.base,t),tt((n,i)=>r(rn(n,e.base),i))]},At=()=>Me(ee()),an=()=>{const e=ee();return on(e.searchHook(e))},gr=(e,t,r,n)=>{const{pattern:i,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),c=i.exec(r)||[],[d,...p]=c;return d!==void 0?[!0,(()=>{const f=s!==!1?Object.fromEntries(s.map((o,u)=>[o,p[u]])):c.groups;let m={...p};return f&&Object.assign(m,f),m})(),...n?[d]:[]]:[!1,null]},cn=({children:e,...t})=>{const r=ee(),n=t.hook?fr:r;let i=n;const[s,c]=t.ssrPath?.split("?")??[];c&&(t.ssrSearch=c,t.ssrPath=s),t.hrefs=t.hrefs??t.hook?.hrefs;let d=g.useRef({}),p=d.current,f=p;for(let m in n){const o=m==="base"?n[m]+(t[m]||""):t[m]||n[m];p===f&&o!==f[m]&&(d.current=f={...f}),f[m]=o,o!==n[m]&&(i=f)}return g.createElement(pr.Provider,{value:i,children:e})},Jt=({children:e,component:t},r)=>t?g.createElement(t,{params:r}):typeof e=="function"?e(r):e,ln=e=>{let t=g.useRef(mr);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,i])=>i!==r[n])?e:r};function br(){const[e,t]=At(),r=an(),n=g.useMemo(()=>new URLSearchParams(r),[r]);let i=n;const s=tt((c,d)=>{i=new URLSearchParams(typeof c=="function"?c(i):c),t(e+"?"+i,d)});return[n,s]}const Mi=({path:e,nest:t,match:r,...n})=>{const i=ee(),[s]=Me(i),[c,d,p]=r??gr(i.parser,e,s,t),f=ln({...Ot(),...d});if(!c)return null;const m=p?g.createElement(cn,{base:p},Jt(n,f)):Jt(n,f);return g.createElement(wr.Provider,{value:f,children:m})};g.forwardRef((e,t)=>{const r=ee(),[n,i]=Me(r),{to:s="",href:c=s,onClick:d,asChild:p,children:f,className:m,replace:o,state:u,...a}=e,h=tt(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d?.(w),w.defaultPrevented||(w.preventDefault(),i(c,e)))}),l=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return p&&g.isValidElement(f)?g.cloneElement(f,{onClick:h,href:l}):g.createElement("a",{...a,onClick:h,href:l,className:m?.call?m(n===c):m,children:f,ref:t})});const vr=e=>Array.isArray(e)?e.flatMap(t=>vr(t&&t.type===g.Fragment?t.props.children:t)):[e],Di=({children:e,location:t})=>{const r=ee(),[n]=Me(r);for(const i of vr(e)){let s=0;if(g.isValidElement(i)&&(s=gr(r.parser,i.props.path,t||n,i.props.nest))[0])return g.cloneElement(i,{match:s})}return null},ji=e=>{const{to:t,href:r=t}=e,n=ee(),[,i]=Me(n),s=tt(()=>i(t||r,e)),{ssrContext:c}=n;return ur(()=>{s()},[]),c&&(c.redirectTo=t),null};function un(){return g.useMemo(()=>({push:e=>{window.history.pushState({},"",e)},refresh:()=>{window.location.reload()}}),[])}function hn(){const[e]=At();return e}function dn(){const[e]=br();return e}function fn(){return Ot()}const Yt={},Bi=()=>{const e=dn(),[t]=br();return g.useMemo(()=>new URLSearchParams((e||t).toString()),[e,t])},pn=()=>{const e=fn(),t=Ot(),r=Object.keys(e).length?e:Yt,n=Object.keys(t).length?t:Yt;return g.useMemo(()=>({...r,...n}),[r,n])},mn=()=>{const e=hn(),[t]=At();return e||t},B=Symbol.for("@ts-pattern/matcher"),Er=Symbol.for("@ts-pattern/isVariadic"),Ye="@ts-pattern/anonymous-select-key",pt=e=>!!(e&&typeof e=="object"),Ke=e=>e&&!!e[B],L=(e,t,r)=>{if(Ke(e)){const n=e[B](),{matched:i,selections:s}=n.match(t);return i&&s&&Object.keys(s).forEach(c=>r(c,s[c])),i}if(pt(e)){if(!pt(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],i=[],s=[];for(const c of e.keys()){const d=e[c];Ke(d)&&d[Er]?s.push(d):s.length?i.push(d):n.push(d)}if(s.length){if(s.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+i.length)return!1;const c=t.slice(0,n.length),d=i.length===0?[]:t.slice(-i.length),p=t.slice(n.length,i.length===0?1/0:-i.length);return n.every((f,m)=>L(f,c[m],r))&&i.every((f,m)=>L(f,d[m],r))&&(s.length===0||L(s[0],p,r))}return e.length===t.length&&e.every((c,d)=>L(c,t[d],r))}return Object.keys(e).every(n=>{const i=e[n];return(n in t||Ke(s=i)&&s[B]().matcherType==="optional")&&L(i,t[n],r);var s})}return Object.is(t,e)},W=e=>{var t,r,n;return pt(e)?Ke(e)?(t=(r=(n=e[B]()).getSelectionKeys)==null?void 0:r.call(n))!=null?t:[]:Array.isArray(e)?Ue(e,W):Ue(Object.values(e),W):[]},Ue=(e,t)=>e.reduce((r,n)=>r.concat(t(n)),[]);function wn(...e){if(e.length===1){const[t]=e;return r=>L(t,r,()=>{})}if(e.length===2){const[t,r]=e;return L(t,r,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}function U(e){return Object.assign(e,{optional:()=>Nt(e),and:t=>P(e,t),or:t=>yr(e,t),select:t=>t===void 0?Ie(e):Ie(t,e)})}function mt(e){return Object.assign((t=>Object.assign(t,{[Symbol.iterator](){let r=0;const n=[{value:Object.assign(t,{[Er]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var i;return(i=n[r++])!=null?i:n.at(-1)}}}}))(e),{optional:()=>mt(Nt(e)),select:t=>mt(t===void 0?Ie(e):Ie(t,e))})}function Nt(e){return U({[B]:()=>({match:t=>{let r={};const n=(i,s)=>{r[i]=s};return t===void 0?(W(e).forEach(i=>n(i,void 0)),{matched:!0,selections:r}):{matched:L(e,t,n),selections:r}},getSelectionKeys:()=>W(e),matcherType:"optional"})})}const gn=(e,t)=>{for(const r of e)if(!t(r))return!1;return!0},bn=(e,t)=>{for(const[r,n]of e.entries())if(!t(n,r))return!1;return!0};function P(...e){return U({[B]:()=>({match:t=>{let r={};const n=(i,s)=>{r[i]=s};return{matched:e.every(i=>L(i,t,n)),selections:r}},getSelectionKeys:()=>Ue(e,W),matcherType:"and"})})}function yr(...e){return U({[B]:()=>({match:t=>{let r={};const n=(i,s)=>{r[i]=s};return Ue(e,W).forEach(i=>n(i,void 0)),{matched:e.some(i=>L(i,t,n)),selections:r}},getSelectionKeys:()=>Ue(e,W),matcherType:"or"})})}function C(e){return{[B]:()=>({match:t=>({matched:!!e(t)})})}}function Ie(...e){const t=typeof e[0]=="string"?e[0]:void 0,r=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return U({[B]:()=>({match:n=>{let i={[t??Ye]:n};return{matched:r===void 0||L(r,n,(s,c)=>{i[s]=c}),selections:i}},getSelectionKeys:()=>[t??Ye].concat(r===void 0?[]:W(r))})})}function Y(e){return typeof e=="number"}function oe(e){return typeof e=="string"}function ae(e){return typeof e=="bigint"}const Sr=U(C(function(e){return!0})),vn=Sr,ce=e=>Object.assign(U(e),{startsWith:t=>{return ce(P(e,(r=t,C(n=>oe(n)&&n.startsWith(r)))));var r},endsWith:t=>{return ce(P(e,(r=t,C(n=>oe(n)&&n.endsWith(r)))));var r},minLength:t=>ce(P(e,(r=>C(n=>oe(n)&&n.length>=r))(t))),length:t=>ce(P(e,(r=>C(n=>oe(n)&&n.length===r))(t))),maxLength:t=>ce(P(e,(r=>C(n=>oe(n)&&n.length<=r))(t))),includes:t=>{return ce(P(e,(r=t,C(n=>oe(n)&&n.includes(r)))));var r},regex:t=>{return ce(P(e,(r=t,C(n=>oe(n)&&!!n.match(r)))));var r}}),En=ce(C(oe)),Z=e=>Object.assign(U(e),{between:(t,r)=>Z(P(e,((n,i)=>C(s=>Y(s)&&n<=s&&i>=s))(t,r))),lt:t=>Z(P(e,(r=>C(n=>Y(n)&&n<r))(t))),gt:t=>Z(P(e,(r=>C(n=>Y(n)&&n>r))(t))),lte:t=>Z(P(e,(r=>C(n=>Y(n)&&n<=r))(t))),gte:t=>Z(P(e,(r=>C(n=>Y(n)&&n>=r))(t))),int:()=>Z(P(e,C(t=>Y(t)&&Number.isInteger(t)))),finite:()=>Z(P(e,C(t=>Y(t)&&Number.isFinite(t)))),positive:()=>Z(P(e,C(t=>Y(t)&&t>0))),negative:()=>Z(P(e,C(t=>Y(t)&&t<0)))}),yn=Z(C(Y)),le=e=>Object.assign(U(e),{between:(t,r)=>le(P(e,((n,i)=>C(s=>ae(s)&&n<=s&&i>=s))(t,r))),lt:t=>le(P(e,(r=>C(n=>ae(n)&&n<r))(t))),gt:t=>le(P(e,(r=>C(n=>ae(n)&&n>r))(t))),lte:t=>le(P(e,(r=>C(n=>ae(n)&&n<=r))(t))),gte:t=>le(P(e,(r=>C(n=>ae(n)&&n>=r))(t))),positive:()=>le(P(e,C(t=>ae(t)&&t>0))),negative:()=>le(P(e,C(t=>ae(t)&&t<0)))}),Sn=le(C(ae)),_n=U(C(function(e){return typeof e=="boolean"})),Rn=U(C(function(e){return typeof e=="symbol"})),Cn=U(C(function(e){return e==null})),Tn=U(C(function(e){return e!=null}));var Fi={__proto__:null,matcher:B,optional:Nt,array:function(...e){return mt({[B]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(e.length===0)return{matched:!0};const r=e[0];let n={};if(t.length===0)return W(r).forEach(s=>{n[s]=[]}),{matched:!0,selections:n};const i=(s,c)=>{n[s]=(n[s]||[]).concat([c])};return{matched:t.every(s=>L(r,s,i)),selections:n}},getSelectionKeys:()=>e.length===0?[]:W(e[0])})})},set:function(...e){return U({[B]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let r={};if(t.size===0)return{matched:!0,selections:r};if(e.length===0)return{matched:!0};const n=(s,c)=>{r[s]=(r[s]||[]).concat([c])},i=e[0];return{matched:gn(t,s=>L(i,s,n)),selections:r}},getSelectionKeys:()=>e.length===0?[]:W(e[0])})})},map:function(...e){return U({[B]:()=>({match:t=>{if(!(t instanceof Map))return{matched:!1};let r={};if(t.size===0)return{matched:!0,selections:r};const n=(d,p)=>{r[d]=(r[d]||[]).concat([p])};if(e.length===0)return{matched:!0};var i;if(e.length===1)throw new Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${(i=e[0])==null?void 0:i.toString()}`);const[s,c]=e;return{matched:bn(t,(d,p)=>{const f=L(s,p,n),m=L(c,d,n);return f&&m}),selections:r}},getSelectionKeys:()=>e.length===0?[]:[...W(e[0]),...W(e[1])]})})},intersection:P,union:yr,not:function(e){return U({[B]:()=>({match:t=>({matched:!L(e,t,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:C,select:Ie,any:Sr,_:vn,string:En,number:yn,bigint:Sn,boolean:_n,symbol:Rn,nullish:Cn,nonNullable:Tn,instanceOf:function(e){return U(C(function(t){return r=>r instanceof t}(e)))},shape:function(e){return U(C(wn(e)))}};const wt={matched:!1,value:void 0};function xn(e){return new Ze(e,wt)}class Ze{constructor(t,r){this.input=void 0,this.state=void 0,this.input=t,this.state=r}with(...t){if(this.state.matched)return this;const r=t[t.length-1],n=[t[0]];let i;t.length===3&&typeof t[1]=="function"?i=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let s=!1,c={};const d=(f,m)=>{s=!0,c[f]=m},p=!n.some(f=>L(f,this.input,d))||i&&!i(this.input)?wt:{matched:!0,value:r(s?Ye in c?c[Ye]:c:this.input,this.input)};return new Ze(this.input,p)}when(t,r){if(this.state.matched)return this;const n=!!t(this.input);return new Ze(this.input,n?{matched:!0,value:r(this.input,this.input)}:wt)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;let t;try{t=JSON.stringify(this.input)}catch{t=this.input}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}run(){return this.exhaustive()}returnType(){return this}}var ke={exports:{}},kn=ke.exports,Zt;function Pn(){return Zt||(Zt=1,function(e,t){(function(r,n){var i="",s="?",c="function",d="undefined",p="object",f="string",m="major",o="model",u="name",a="type",h="vendor",l="version",w="architecture",S="console",b="mobile",v="tablet",M="smarttv",K="wearable",ne="embedded",fe=500,he="Amazon",ie="Apple",ye="ASUS",Se="BlackBerry",H="Browser",A="Chrome",D="Edge",I="Firefox",De="Google",Mt="Huawei",nt="LG",it="Microsoft",Dt="Motorola",_e="Opera",je="Samsung",jt="Sharp",Be="Sony",st="Xiaomi",ot="Zebra",Bt="Facebook",Ft="Chromium OS",Wt="Mac OS",Mr=function(R,x){var y={};for(var k in R)x[k]&&x[k].length%2===0?y[k]=x[k].concat(R[k]):y[k]=R[k];return y},Fe=function(R){for(var x={},y=0;y<R.length;y++)x[R[y].toUpperCase()]=R[y];return x},Ht=function(R,x){return typeof R===f?Re(x).indexOf(Re(R))!==-1:!1},Re=function(R){return R.toLowerCase()},Dr=function(R){return typeof R===f?R.replace(/[^\d\.]/g,i).split(".")[0]:n},at=function(R,x){if(typeof R===f)return R=R.replace(/^\s\s*/,i),typeof x===d?R:R.substring(0,fe)},Ce=function(R,x){for(var y=0,k,te,X,T,E,J;y<x.length&&!E;){var lt=x[y],Vt=x[y+1];for(k=te=0;k<lt.length&&!E&&lt[k];)if(E=lt[k++].exec(R),E)for(X=0;X<Vt.length;X++)J=E[++te],T=Vt[X],typeof T===p&&T.length>0?T.length===2?typeof T[1]==c?this[T[0]]=T[1].call(this,J):this[T[0]]=T[1]:T.length===3?typeof T[1]===c&&!(T[1].exec&&T[1].test)?this[T[0]]=J?T[1].call(this,J,T[2]):n:this[T[0]]=J?J.replace(T[1],T[2]):n:T.length===4&&(this[T[0]]=J?T[3].call(this,J.replace(T[1],T[2])):n):this[T]=J||n;y+=2}},ct=function(R,x){for(var y in x)if(typeof x[y]===p&&x[y].length>0){for(var k=0;k<x[y].length;k++)if(Ht(x[y][k],R))return y===s?n:y}else if(Ht(x[y],R))return y===s?n:y;return R},jr={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},$t={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},zt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,l],[/opios[\/ ]+([\w\.]+)/i],[l,[u,_e+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[l,[u,_e+" GX"]],[/\bopr\/([\w\.]+)/i],[l,[u,_e]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[l,[u,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,l],[/\bddg\/([\w\.]+)/i],[l,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[u,"UC"+H]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[l,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[l,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[l,[u,"Smart Lenovo "+H]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+H],l],[/\bfocus\/([\w\.]+)/i],[l,[u,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[u,_e+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[u,_e+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[u,"MIUI "+H]],[/fxios\/([-\w\.]+)/i],[l,[u,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+H]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+H],l],[/samsungbrowser\/([\w\.]+)/i],[l,[u,je+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],l],[/metasr[\/ ]?([\d\.]+)/i],[l,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[u,l],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,Bt],l],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[l,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[u,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,A+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[u,"Android "+H]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[l,ct,jr]],[/(webkit|khtml)\/([\w\.]+)/i],[u,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[u,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,l],[/(cobalt)\/([\w\.]+)/i],[u,[l,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,Re]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,i,Re]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,Re]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[o,[h,je],[a,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[o,[h,je],[a,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[o,[h,ie],[a,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[h,ie],[a,v]],[/(macintosh);/i],[o,[h,ie]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[o,[h,jt],[a,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[o,[h,Mt],[a,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[o,[h,Mt],[a,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[o,/_/g," "],[h,st],[a,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[o,/_/g," "],[h,st],[a,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[o,[h,"OPPO"],[a,b]],[/\b(opd2\d{3}a?) bui/i],[o,[h,"OPPO"],[a,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[o,[h,"Vivo"],[a,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[o,[h,"Realme"],[a,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[o,[h,Dt],[a,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[o,[h,Dt],[a,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[o,[h,nt],[a,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[o,[h,nt],[a,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[o,[h,"Lenovo"],[a,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[o,/_/g," "],[h,"Nokia"],[a,b]],[/(pixel c)\b/i],[o,[h,De],[a,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[o,[h,De],[a,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[h,Be],[a,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[o,"Xperia Tablet"],[h,Be],[a,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[o,[h,"OnePlus"],[a,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[o,[h,he],[a,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[o,/(.+)/g,"Fire Phone $1"],[h,he],[a,b]],[/(playbook);[-\w\),; ]+(rim)/i],[o,h,[a,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[o,[h,Se],[a,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[o,[h,ye],[a,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[o,[h,ye],[a,b]],[/(nexus 9)/i],[o,[h,"HTC"],[a,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[o,/_/g," "],[a,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[o,[h,"Acer"],[a,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[o,[h,"Meizu"],[a,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[o,[h,"Ulefone"],[a,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,o,[a,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,o,[a,v]],[/(surface duo)/i],[o,[h,it],[a,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[o,[h,"Fairphone"],[a,b]],[/(u304aa)/i],[o,[h,"AT&T"],[a,b]],[/\bsie-(\w*)/i],[o,[h,"Siemens"],[a,b]],[/\b(rct\w+) b/i],[o,[h,"RCA"],[a,v]],[/\b(venue[\d ]{2,7}) b/i],[o,[h,"Dell"],[a,v]],[/\b(q(?:mv|ta)\w+) b/i],[o,[h,"Verizon"],[a,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[o,[h,"Barnes & Noble"],[a,v]],[/\b(tm\d{3}\w+) b/i],[o,[h,"NuVision"],[a,v]],[/\b(k88) b/i],[o,[h,"ZTE"],[a,v]],[/\b(nx\d{3}j) b/i],[o,[h,"ZTE"],[a,b]],[/\b(gen\d{3}) b.+49h/i],[o,[h,"Swiss"],[a,b]],[/\b(zur\d{3}) b/i],[o,[h,"Swiss"],[a,v]],[/\b((zeki)?tb.*\b) b/i],[o,[h,"Zeki"],[a,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],o,[a,v]],[/\b(ns-?\w{0,9}) b/i],[o,[h,"Insignia"],[a,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[o,[h,"NextBook"],[a,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],o,[a,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],o,[a,b]],[/\b(ph-1) /i],[o,[h,"Essential"],[a,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[o,[h,"Envizen"],[a,v]],[/\b(trio[-\w\. ]+) b/i],[o,[h,"MachSpeed"],[a,v]],[/\btu_(1491) b/i],[o,[h,"Rotor"],[a,v]],[/(shield[\w ]+) b/i],[o,[h,"Nvidia"],[a,v]],[/(sprint) (\w+)/i],[h,o,[a,b]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[h,it],[a,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[h,ot],[a,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[h,ot],[a,b]],[/smart-tv.+(samsung)/i],[h,[a,M]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[h,je],[a,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,nt],[a,M]],[/(apple) ?tv/i],[h,[o,ie+" TV"],[a,M]],[/crkey/i],[[o,A+"cast"],[h,De],[a,M]],[/droid.+aft(\w+)( bui|\))/i],[o,[h,he],[a,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[o,[h,jt],[a,M]],[/(bravia[\w ]+)( bui|\))/i],[o,[h,Be],[a,M]],[/(mitv-\w{5}) bui/i],[o,[h,st],[a,M]],[/Hbbtv.*(technisat) (.*);/i],[h,o,[a,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,at],[o,at],[a,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[a,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,o,[a,S]],[/droid.+; (shield) bui/i],[o,[h,"Nvidia"],[a,S]],[/(playstation [345portablevi]+)/i],[o,[h,Be],[a,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[o,[h,it],[a,S]],[/((pebble))app/i],[h,o,[a,K]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[o,[h,ie],[a,K]],[/droid.+; (glass) \d/i],[o,[h,De],[a,K]],[/droid.+; (wt63?0{2,3})\)/i],[o,[h,ot],[a,K]],[/(quest( \d| pro)?)/i],[o,[h,Bt],[a,K]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[a,ne]],[/(aeobc)\b/i],[o,[h,he],[a,ne]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[o,[a,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[o,[a,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[a,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[a,b]],[/(android[-\w\. ]{0,9});.+buil/i],[o,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[u,D+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,l],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[l,ct,$t]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,ct,$t],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,Wt],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,l],[/\(bb(10);/i],[l,[u,Se]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[u,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[l,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[l,[u,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,Ft],l],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,l],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,l]]},G=function(R,x){if(typeof R===p&&(x=R,R=n),!(this instanceof G))return new G(R,x).getResult();var y=typeof r!==d&&r.navigator?r.navigator:n,k=R||(y&&y.userAgent?y.userAgent:i),te=y&&y.userAgentData?y.userAgentData:n,X=x?Mr(zt,x):zt,T=y&&y.userAgent==k;return this.getBrowser=function(){var E={};return E[u]=n,E[l]=n,Ce.call(E,k,X.browser),E[m]=Dr(E[l]),T&&y&&y.brave&&typeof y.brave.isBrave==c&&(E[u]="Brave"),E},this.getCPU=function(){var E={};return E[w]=n,Ce.call(E,k,X.cpu),E},this.getDevice=function(){var E={};return E[h]=n,E[o]=n,E[a]=n,Ce.call(E,k,X.device),T&&!E[a]&&te&&te.mobile&&(E[a]=b),T&&E[o]=="Macintosh"&&y&&typeof y.standalone!==d&&y.maxTouchPoints&&y.maxTouchPoints>2&&(E[o]="iPad",E[a]=v),E},this.getEngine=function(){var E={};return E[u]=n,E[l]=n,Ce.call(E,k,X.engine),E},this.getOS=function(){var E={};return E[u]=n,E[l]=n,Ce.call(E,k,X.os),T&&!E[u]&&te&&te.platform&&te.platform!="Unknown"&&(E[u]=te.platform.replace(/chrome os/i,Ft).replace(/macos/i,Wt)),E},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return k},this.setUA=function(E){return k=typeof E===f&&E.length>fe?at(E,fe):E,this},this.setUA(k),this};G.BROWSER=Fe([u,l,m]),G.CPU=Fe([w]),G.DEVICE=Fe([o,h,a,S,b,M,v,K,ne]),G.ENGINE=G.OS=Fe([u,l]),e.exports&&(t=e.exports=G),t.UAParser=G;var pe=typeof r!==d&&(r.jQuery||r.Zepto);if(pe&&!pe.ua){var We=new G;pe.ua=We.getResult(),pe.ua.get=function(){return We.getUA()},pe.ua.set=function(R){We.setUA(R);var x=We.getResult();for(var y in x)pe.ua[y]=x[y]}}})(typeof window=="object"?window:kn)}(ke,ke.exports)),ke.exports}var On=Pn();const An=Wr(On),Nn=["chrome122","safari16","edge132","firefox135","ios16"],Ln=/([a-zA-Z]+)(\d+)/,Un=Nn.reduce((e,t)=>{const r=t.match(Ln);return r&&(e[r[1]]=+r[2]),e},{});function In(e){const t=e.toLowerCase();if(t==="chrome"||t==="chromium")return"chrome";if(t==="safari")return"safari";if(t==="mobile safari")return"ios";if(t==="edge")return"edge";if(t==="firefox")return"firefox"}function _r(e){try{const r=new An(e).getBrowser(),n=r.version;if(!r.name)return!0;const i=In(r.name);if(!i)return!0;const s=Un[i];if(!s||!n)return!0;const c=parseInt(n.split(".")[0]);return isNaN(c)?!0:c>=s}catch{return!0}}class rt extends Error{code;details;constructor(t,{message:r,cause:n,details:i={}}={}){super(r?`[${t}] ${r}`:`[${t}]`,{cause:n}),this.code=t,this.code=t,this.details=i,this.name="PplxError","captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,rt)}}function Te(...e){let t;const r={},n=[];e.filter(Boolean).forEach(s=>{s instanceof rt?(t=s,n.push(s.message),s.details&&Object.assign(r,{pplx_error_code:s.code,...s.details})):s instanceof Error?(t=s,n.push(s.message)):typeof s=="object"?Object.assign(r,s):n.push(s)});const i=n.join(" ");return t?{message:i,error:t,extra:r}:{message:i,extra:r}}const Mn=xt.memo(({session:e,isWindowsApp:t})=>(g.useEffect(()=>{e&&(F.setUser({id:e.id,name:e.name??"",email:e.email}),F.setGlobalContextProperty("isPro",e.isPro),F.setGlobalContextProperty("isWindowsApp",t))},[e,t]),null));Mn.displayName="LoggerAgent";function xe(e,{message:t,error:r,extra:n}){const i=[t,n,r];xn(e).with("error",()=>{F.logger.error(...i);try{V.addError(r,{message:t,extra:n})}catch{}}).with("warn",()=>F.logger.warn(...i)).with("log",()=>F.logger.info(...i)).with("debug",()=>F.logger.debug(...i)).with("info",()=>F.logger.info(...i)).exhaustive()}const q={log:(...e)=>{xe("debug",Te(...e))},error:(...e)=>{xe("error",Te(...e))},warn:(...e)=>{xe("warn",Te(...e))},debug:(...e)=>{xe("debug",Te(...e))},info:(...e)=>{xe("info",Te(...e))}};function Wi({ddClientToken:e,version:t,env:r,debug:n,sessionSampleRate:i,service:s="web-nextjs"}){const c=_r(navigator.userAgent);F.init({clientToken:e,site:"datadoghq.com",service:s,env:r,version:t,sessionSampleRate:i,forwardErrorsToLogs:!0,forwardConsoleLogs:["warn","error","info"],beforeSend:d=>!c||d.http?.url.includes("reddit.com")||(d.http?.status_code===0&&(d.status="warn"),d.error?.handling==="unhandled"&&d.message?.includes("Script error.")&&!d.error?.cause)?!1:d.status==="error"||d.status==="warn"||d.status==="info"}),n&&(F._setDebug(!0),F.onReady(()=>{F.logger.setHandler("http")}))}function Hi(e){Object.entries(e).forEach(([t,r])=>{F.setGlobalContextProperty(t,r)})}let ut=!1;const $i=()=>{const e=g.useRef((()=>{try{return new URL(performance.getEntriesByType("navigation")?.at?.(0)?.name??"").pathname}catch{return""}})());document.visibilityState!=="visible"&&(ut=!0);const t=g.useCallback((r=0)=>{let n="ttv";!ut&&e.current===window.location.pathname&&(n="fttv",ut=!0),V.addDurationVital(n,{startTime:performance.timeOrigin+r,duration:performance.now()-r})},[]);return g.useMemo(()=>({markTTV:t}),[t])},Rr="web.custom_metrics";function Dn(e,t,r){q.info(Rr,{metricName:e,duration:t,...r})}function jn(e={},{transport:t=Dn,nowFromTimeOrigin:r=performance.now()}={}){const n={...e},i=new Set,s=[];function c(p,f={}){const m=performance.now()-r,o={metricName:p,duration:m};return s.push(o),t(p,m,{...n,...f,startTime:r+performance.timeOrigin}),o}function d(p,f){return i.has(p)?s.find(m=>m.metricName===p):(i.add(p),c(p,f))}return{addTimingOnce:d,addTiming:c,getEvents(){return s},setGlobalContext(p){Object.assign(n,p)},getStartTimeFromTimeOrigin(){return r},getAbsoluteStartTime(){return r+performance.timeOrigin}}}function zi(e,{verbose:t,raiseOnError:r,onlyUseRum:n=!0,...i}){const{duration:s,startTime:c,...d}=i;V.addDurationVital(e,{startTime:c,duration:s,context:d}),n||q.info(Rr,{metricName:e,...i})}function Qt(e={},t={}){const r=Date.now();return jn(e,{...t,transport:(n,i,s)=>{V.addDurationVital(n,{startTime:r,duration:i,context:s})}})}function Vi(e){Object.entries(e).forEach(([t,r])=>{V.setGlobalContextProperty(t,r)})}function qi(e,t={}){V.addAction(e,t)}function Ki(e){if(!e)return;const t=_r(navigator.userAgent),{ddApplicationId:r,ddClientToken:n,version:i,env:s,debug:c}=e;!r||!n||(V.init({applicationId:r,clientToken:n,site:"datadoghq.com",service:"web-nextjs",env:s,version:i,sessionSampleRate:e.sessionSampleRate,sessionReplaySampleRate:e.sessionReplaySampleRate,defaultPrivacyLevel:"mask-user-input",allowedTracingUrls:[/\.perplexity\.ai/,"http://localhost:3000"],beforeSend:()=>!!t}),c&&V._setDebug(!0))}const Bn=xt.memo(({session:e,isWindowsApp:t})=>(g.useEffect(()=>{e&&(V.setUser({id:e.id,name:e.name??"",email:e.email}),V.setGlobalContextProperty("isPro",e.isPro),V.setGlobalContextProperty("isWindowsApp",t))},[e,t]),null));Bn.displayName="MetricsAgent";const Cr="2.18",Tr="default",Fn="server",Wn="mweb",Hn="windowsapp",$n="X-Perplexity-Request-Reason",Gi="X-Request-ID";var zn=Object.defineProperty,Vn=(e,t,r)=>t in e?zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$e=(e,t,r)=>Vn(e,typeof t!="symbol"?t+"":t,r);class er extends Error{constructor(t,r){super(t),$e(this,"type"),$e(this,"field"),$e(this,"value"),$e(this,"line"),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function ht(e){}function qn(e){const{onEvent:t=ht,onError:r=ht,onRetry:n=ht,onComment:i}=e;let s="",c=!0,d,p="",f="";function m(l){const w=c?l.replace(/^\xEF\xBB\xBF/,""):l,[S,b]=Kn(`${s}${w}`);for(const v of S)o(v);s=b,c=!1}function o(l){if(l===""){a();return}if(l.startsWith(":")){i&&i(l.slice(l.startsWith(": ")?2:1));return}const w=l.indexOf(":");if(w!==-1){const S=l.slice(0,w),b=l[w+1]===" "?2:1,v=l.slice(w+b);u(S,v,l);return}u(l,"",l)}function u(l,w,S){switch(l){case"event":f=w;break;case"data":p=`${p}${w}
`;break;case"id":d=w.includes("\0")?void 0:w;break;case"retry":/^\d+$/.test(w)?n(parseInt(w,10)):r(new er(`Invalid \`retry\` value: "${w}"`,{type:"invalid-retry",value:w,line:S}));break;default:r(new er(`Unknown field "${l.length>20?`${l.slice(0,20)}â€¦`:l}"`,{type:"unknown-field",field:l,value:w,line:S}));break}}function a(){p.length>0&&t({id:d,event:f||void 0,data:p.endsWith(`
`)?p.slice(0,-1):p}),d=void 0,p="",f=""}function h(l={}){s&&l.consume&&o(s),d=void 0,p="",f="",s=""}return{feed:m,reset:h}}function Kn(e){const t=[];let r="";const n=e.length;for(let i=0;i<n;i++){const s=e[i];s==="\r"&&e[i+1]===`
`?(t.push(r),r="",i++):s==="\r"||s===`
`?(t.push(r),r=""):r+=s}return[t,r]}class tr extends Event{constructor(t,r){var n,i;super(t),this.code=(n=r?.code)!=null?n:void 0,this.message=(i=r?.message)!=null?i:void 0}[Symbol.for("nodejs.util.inspect.custom")](t,r,n){return n(rr(this),r)}[Symbol.for("Deno.customInspect")](t,r){return t(rr(this),r)}}function Gn(e){const t=globalThis.DOMException;return typeof t=="function"?new t(e,"SyntaxError"):new SyntaxError(e)}function gt(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(gt).join(", "):"cause"in e&&e.cause instanceof Error?`${e}: ${gt(e.cause)}`:e.message:`${e}`}function rr(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var xr=e=>{throw TypeError(e)},Lt=(e,t,r)=>t.has(e)||xr("Cannot "+r),_=(e,t,r)=>(Lt(e,t,"read from private field"),r?r.call(e):t.get(e)),N=(e,t,r)=>t.has(e)?xr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),O=(e,t,r,n)=>(Lt(e,t,"write to private field"),t.set(e,r),r),re=(e,t,r)=>(Lt(e,t,"access private method"),r),j,de,me,Ge,Qe,Ae,be,Ne,ue,we,ve,ge,Pe,z,bt,vt,Et,nr,yt,St,Oe,_t,Rt;class Xe extends EventTarget{constructor(t,r){var n,i;super(),N(this,z),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,N(this,j),N(this,de),N(this,me),N(this,Ge),N(this,Qe),N(this,Ae),N(this,be),N(this,Ne,null),N(this,ue),N(this,we),N(this,ve,null),N(this,ge,null),N(this,Pe,null),N(this,vt,async s=>{var c;_(this,we).reset();const{body:d,redirected:p,status:f,headers:m}=s;if(f===204){re(this,z,Oe).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(p?O(this,me,new URL(s.url)):O(this,me,void 0),f!==200){re(this,z,Oe).call(this,`Non-200 status code (${f})`,f);return}if(!(m.get("content-type")||"").startsWith("text/event-stream")){re(this,z,Oe).call(this,'Invalid content type, expected "text/event-stream"',f);return}if(_(this,j)===this.CLOSED)return;O(this,j,this.OPEN);const o=new Event("open");if((c=_(this,Pe))==null||c.call(this,o),this.dispatchEvent(o),typeof d!="object"||!d||!("getReader"in d)){re(this,z,Oe).call(this,"Invalid response body, expected a web ReadableStream",f),this.close();return}const u=new TextDecoder,a=d.getReader();let h=!0;do{const{done:l,value:w}=await a.read();w&&_(this,we).feed(u.decode(w,{stream:!l})),l&&(h=!1,_(this,we).reset(),re(this,z,_t).call(this))}while(h)}),N(this,Et,s=>{O(this,ue,void 0),!(s.name==="AbortError"||s.type==="aborted")&&re(this,z,_t).call(this,gt(s))}),N(this,yt,s=>{typeof s.id=="string"&&O(this,Ne,s.id);const c=new MessageEvent(s.event||"message",{data:s.data,origin:_(this,me)?_(this,me).origin:_(this,de).origin,lastEventId:s.id||""});_(this,ge)&&(!s.event||s.event==="message")&&_(this,ge).call(this,c),this.dispatchEvent(c)}),N(this,St,s=>{O(this,Ae,s)}),N(this,Rt,()=>{O(this,be,void 0),_(this,j)===this.CONNECTING&&re(this,z,bt).call(this)});try{if(t instanceof URL)O(this,de,t);else if(typeof t=="string")O(this,de,new URL(t,Xn()));else throw new Error("Invalid URL")}catch{throw Gn("An invalid or illegal string was specified")}O(this,we,qn({onEvent:_(this,yt),onRetry:_(this,St)})),O(this,j,this.CONNECTING),O(this,Ae,3e3),O(this,Qe,(n=r?.fetch)!=null?n:globalThis.fetch),O(this,Ge,(i=r?.withCredentials)!=null?i:!1),re(this,z,bt).call(this)}get readyState(){return _(this,j)}get url(){return _(this,de).href}get withCredentials(){return _(this,Ge)}get onerror(){return _(this,ve)}set onerror(t){O(this,ve,t)}get onmessage(){return _(this,ge)}set onmessage(t){O(this,ge,t)}get onopen(){return _(this,Pe)}set onopen(t){O(this,Pe,t)}addEventListener(t,r,n){const i=r;super.addEventListener(t,i,n)}removeEventListener(t,r,n){const i=r;super.removeEventListener(t,i,n)}close(){_(this,be)&&clearTimeout(_(this,be)),_(this,j)!==this.CLOSED&&(_(this,ue)&&_(this,ue).abort(),O(this,j,this.CLOSED),O(this,ue,void 0))}}j=new WeakMap,de=new WeakMap,me=new WeakMap,Ge=new WeakMap,Qe=new WeakMap,Ae=new WeakMap,be=new WeakMap,Ne=new WeakMap,ue=new WeakMap,we=new WeakMap,ve=new WeakMap,ge=new WeakMap,Pe=new WeakMap,z=new WeakSet,bt=function(){O(this,j,this.CONNECTING),O(this,ue,new AbortController),_(this,Qe)(_(this,de),re(this,z,nr).call(this)).then(_(this,vt)).catch(_(this,Et))},vt=new WeakMap,Et=new WeakMap,nr=function(){var e;const t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",..._(this,Ne)?{"Last-Event-ID":_(this,Ne)}:void 0},cache:"no-store",signal:(e=_(this,ue))==null?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},yt=new WeakMap,St=new WeakMap,Oe=function(e,t){var r;_(this,j)!==this.CLOSED&&O(this,j,this.CLOSED);const n=new tr("error",{code:t,message:e});(r=_(this,ve))==null||r.call(this,n),this.dispatchEvent(n)},_t=function(e,t){var r;if(_(this,j)===this.CLOSED)return;O(this,j,this.CONNECTING);const n=new tr("error",{code:t,message:e});(r=_(this,ve))==null||r.call(this,n),this.dispatchEvent(n),O(this,be,setTimeout(_(this,Rt),_(this,Ae)))},Rt=new WeakMap,Xe.CONNECTING=0,Xe.OPEN=1,Xe.CLOSED=2;function Xn(){const e="document"in globalThis?globalThis.document:void 0;return e&&typeof e=="object"&&"baseURI"in e&&typeof e.baseURI=="string"?e.baseURI:void 0}class Q extends rt{name="FetcherError"}const Jn="TimeoutError",ir=2,Yn=1200,Zn=e=>{const t=typeof window>"u",r=new URL(e),n=r.searchParams;return n.get("version")||n.set("version",Cr),n.get("source")||n.set("source",t?Fn:Tr),r};function Qn(e=Yn){try{const t=globalThis.navigator.userAgent.includes("Mobile")&&!globalThis.navigator.userAgent.includes("iPad");let r="unknown",n=10;return globalThis.navigator.connection&&(r=globalThis.navigator.connection.type,n=globalThis.navigator.connection.downlink),t||n<1||r==="cellular"?e*2:e}catch{return e}}const ei=e=>{switch(e){case 400:case 403:case 404:return!1;case 401:case 409:return!0;case 500:case 502:case 429:return!0;default:return!1}},ti=e=>{if(!e)return 0;const t=parseInt(e,10);if(!isNaN(t))return Math.max(0,t*1e3);const n=new Date(e).getTime();return isNaN(n)?0:Math.max(0,n-Date.now())},ri=(e,t,r)=>r+e*Math.pow(2,t),ni=async({resource:e,options:t={},timeoutMs:r=Qn(),method:n="GET",body:i,numRetries:s=0,backOffTime:c=1e3,reason:d})=>{const p={...t,method:n,body:i},f=new Headers(p.headers);f.set($n,d);let m=()=>null;if(r&&(m=()=>{const w=new DOMException(`fetch ${e} timed out (${r}ms)`,Jn),S=new AbortController;return p.signal=S.signal,setTimeout(()=>S.abort(w),r)}),s>ir){const w=new Q("FETCHER_MAX_RETRIES_EXCEEDED",{details:{resource:e,numRetries:s,maxRetries:ir}});q.error(w)}let o=null,u,a=c,h=0,l=0;do{s>0&&l>0&&await new Promise(S=>setTimeout(S,a));const w=m();h=0,u=void 0;try{if(f.set("X-Perplexity-Request-Try-Number",String(l+1)),f.set("X-Perplexity-Request-Endpoint",String(e)),o=await fetch(e,{...p,headers:f}),clearTimeout(w),!o.ok&&ei(o.status))h=ti(o.headers.get("Retry-After"));else break}catch(S){u=S}clearTimeout(w),a=ri(c,l,h),++l}while(l<=s);if(!u&&!o.ok)if(o.status===403&&o.headers.get("cf-mitigated")?.includes("challenge"))u=new Q("FETCHER_CLOUDFLARE_403_ERROR",{message:"Cloudflare 403 error"});else{const S=(await o.clone().text()).trimStart();(S.startsWith("<!DOCTYPE html")||S.startsWith("<html"))&&(u=new Q("FETCHER_HTML_STATUS_ERROR",{message:`${o.status} error`,details:{html:S,status:o.status}}))}if(u)throw q.log(`${p.method} ${e} exception`,u),u._fetchMethod=p.method,u._fetchResource=e,u;return o},ii=10*60*1e3;async function si({url:e,params:t,handlers:r,legacyEvents:n={},headers:i={},signal:s,metrics:c={},timer:d}){const p=n.message??"message",f=n.endOfStream??"end_of_stream",m=n.message&&n.endOfStream,{now:o,...u}=c;d?d.setGlobalContext({path:e.pathname,...u}):d=Qt({path:e.pathname,...u},{nowFromTimeOrigin:performance.now()});const{addTiming:a,addTimingOnce:h}=d;return a("web.sse.start"),new Promise((l,w)=>{const S=new Xe(e,{withCredentials:!0,fetch:(A,D)=>fetch(A,{...D,method:"POST",body:t?JSON.stringify(t):void 0,credentials:"include",signal:s,headers:{"content-type":"application/json",...D?.headers??{},...i}})});let b,v;function M(){v?v=void 0:v=Qt({path:e.pathname})}function K(){clearTimeout(b),b=setTimeout(()=>{try{S.close()}catch{}finally{H()}w(new Q("FETCHER_SSE_CHUNK_TIMEOUT",{details:{submitParams:t}}))},ii)}function ne(A){clearTimeout(b);try{S.close()}catch{}finally{H()}A instanceof Q?w(A):w(new Q("FETCHER_SSE_ERROR",{cause:A,message:"An error occurred while streaming",details:{submitParams:t}}))}const fe=A=>{const D=()=>!navigator.onLine||A.message==="network error";let I="FETCHER_SSE_ERROR";D()?I="FETCHER_SSE_OFFLINE_ERROR":A.code?A.code===403&&(I="FETCHER_CLOUDFLARE_403_ERROR"):I="FETCHER_SSE_NO_STATUS_CODE_ERROR",ne(new Q(I,{cause:A,details:{code:I,message:A.message,type:A.type,submitParams:t}}))},he=()=>{K(),a("web.sse.connection_opened"),r.open?.()},ie=A=>{let D;try{h("web.sse.first_message_seen"),M(),K(),D=JSON.parse(A.data)}catch(I){return ne(new Q("FETCHER_SSE_CHUNK_PROCESSING_ERROR",{cause:I,details:{submitParams:t}}))}r.message(D)},ye=A=>{let D;try{h("web.sse.first_message_seen"),clearTimeout(b);try{S.close()}catch{}finally{H()}D=JSON.parse(A.data)}catch(I){return ne(new Q("FETCHER_SSE_EOS_ERROR",{cause:I,details:{submitParams:t}}))}m&&r.message(D),a("web.sse.end_of_stream"),l()},Se=A=>{let D;try{D=JSON.parse(A.data)}catch(I){return ne(new Q("FETCHER_SSE_INFO_CHUNK_PARSE_ERROR",{cause:I,details:{submitParams:t}}))}r.info?.(D)};S.addEventListener("error",fe),S.addEventListener("open",he),S.addEventListener(p,ie),S.addEventListener(f,ye),S.addEventListener("info",Se);const H=()=>{S.removeEventListener("error",fe),S.removeEventListener("open",he),S.removeEventListener(p,ie),S.removeEventListener(f,ye),S.removeEventListener("info",Se)};K()}).catch(l=>{throw l instanceof Error&&(l.cause?.code??0)>0||q.error("SSE error",l,{path:e.pathname}),l})}var se={};const oi=()=>{const e={};return se.NEXT_PUBLIC_CF_ACCESS_ID&&(e["CF-Access-Client-Id"]=se.NEXT_PUBLIC_CF_ACCESS_ID),se.NEXT_PUBLIC_CF_ACCESS_SECRET&&(e["CF-Access-Client-Secret"]=se.NEXT_PUBLIC_CF_ACCESS_SECRET),se.NEXT_PUBLIC_PPL_DEV_HEADER_NAME&&se.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN&&(e[se.NEXT_PUBLIC_PPL_DEV_HEADER_NAME]=se.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN),e},ai=(e,t)=>{const r=e.replace(/\/+$/,""),n=t.replace(/^\/+/,"");return new URL(n,r).toString()},ci=(e,t)=>e?Wn:t?Hn:Tr;var Ut={};const li="https://testing.i.perplexity.ai",ui=e=>{const t=new URL(e);return globalThis.location.hostname.includes("localhost")||(t.protocol=globalThis.location.protocol,t.hostname=globalThis.location.hostname),t.toString()};function kr(){return Ut.NEXT_PUBLIC_REST_ASYNC_SERVER_URL||ui(li)}const $={jwt:null,ttl:0,promise:void 0},Pr=async()=>{if($.ttl>Date.now())return $.jwt;try{$.promise=$.promise??fetch("/api/auth/token",{headers:{"X-Token-Type":"Perplexity-JWT"}}).then(e=>e.json()).then(e=>e.perplexity_jwt),$.jwt=await $.promise,$.ttl=Date.now()+1e3*60*9}catch(e){$.jwt=null,$.ttl=0,q.warn("Error getting dev token:",e)}finally{$.promise=void 0}return $.jwt},hi=({clientHeaders:e,isMobile:t,isWindowsApp:r})=>{const n=ci(t,r),i=e instanceof Headers?new Headers(e):new Headers(Object.entries(e??{}).filter(c=>c[1]!==void 0).map(([c,d])=>[c,Array.isArray(d)?d.join(", "):d])),s=new Headers({...oi(),"X-App-ApiClient":n,"X-App-ApiVersion":Cr});return i.forEach((c,d)=>{s.set(d,c)}),s};async function Xi({urlPath:e,timeoutMs:t,method:r,body:n,headers:i,baseUrlOverride:s,redirect:c,numRetries:d,backOffTime:p,reason:f}){const m=navigator.userAgent.includes("Mobile"),o=navigator.userAgent.includes("WindowsApp"),u=hi({clientHeaders:i,isMobile:m,isWindowsApp:o}),a={headers:u,redirect:c,credentials:"same-origin"},h=globalThis.location.hostname.includes("localhost")??!1,l=Ut.NEXT_PUBLIC_USE_TOKEN_AUTH_FOR_SOCKET;if((h||l)&&a.headers){const b=await Pr();u.set("authorization",`Bearer ${b}`)}h&&(a.credentials="include");const w=s??kr(),S=Zn(ai(w,e));return ni({resource:S,options:a,timeoutMs:t,method:r,body:n,numRetries:d,backOffTime:p,reason:f})}async function Ji({url:e,headers:t,...r}){const n=new URL(e,kr()),i=globalThis.location.hostname.includes("localhost")??!1,s=Ut.NEXT_PUBLIC_USE_TOKEN_AUTH_FOR_SOCKET,c={};let d="";return(i||s)&&(d=`Bearer ${await Pr()}`,c.authorization=d),si({url:n,headers:{...t,...c},...r})}const Yi=e=>e.trim().replace(/\/+$/,"").replace(/^(?:https?:\/\/)?(?:www\.)?/,"");class Or{static getItem(t){try{return window.localStorage.getItem(t)}catch{return null}}static setItem(t,r){try{return window.localStorage.setItem(t,r),!0}catch{return!1}}static removeItem(t){try{return window.localStorage.removeItem(t),!0}catch{return!1}}static clear(){try{return window.localStorage.clear(),!0}catch{return!1}}static keys(){try{const t=window.localStorage.length,r=[];for(let n=0;n<t;n++){const i=window.localStorage.key(n);i&&r.push(i)}return r}catch{return[]}}}class Zi{static getItem(t){try{return window.sessionStorage.getItem(t)}catch{return null}}static setItem(t,r){try{return window.sessionStorage.setItem(t,r),!0}catch{return!1}}static removeItem(t){try{return window.sessionStorage.removeItem(t),!0}catch{return!1}}static clear(){try{return window.sessionStorage.clear(),!0}catch{return!1}}}function Le(e){try{return new URL(e)}catch{return new URL(e,window.location.origin)}}function Ar(e,t,r=lr){return e.map(n=>{if(n.startsWith("^")){const p=new RegExp(n),f=p.exec(t);return{pattern:p,route:n,match:p.test(t),params:Object.fromEntries(Object.entries(f?.groups??{}).map(([m,o])=>[m,o??void 0]))}}const{pattern:i,keys:s}=r(n),[c,...d]=i.exec(t)??[];return{pattern:i,route:n,match:i.test(t),params:Object.fromEntries(s.map((p,f)=>[p,d?.[f]]))}}).find(({match:n})=>n)}const Nr={current:0},Ee=g.createContext({spaRoutes:[],strictSpa:!1,openNonSpaRouteInNewTab:!1,startTimeFromTimeOriginRef:Nr}),di=xt.memo(({spaRoutes:e,strictSpa:t,openNonSpaRouteInNewTab:r,children:n})=>Je.jsx(Ee.Provider,{value:{spaRoutes:e,strictSpa:t,openNonSpaRouteInNewTab:r,startTimeFromTimeOriginRef:Nr},children:n}));di.displayName="RouterProvider";function fi(e,t){return!t||t==="/"?e:e.startsWith(t)?e.slice(t.length):e}function pi(e,t){return!t||t==="/"||e.startsWith(t)?e:`${t}${e}`}const It=[];function Ct(e,t,r){return!!Ar(e,r,t)}function sr(e,t,r,n){const i=Le(window.location.href),s=Le(e);if(s.origin!==window.location.origin)return{shouldNavigate:!1,absolutePath:s.toString()};const c=fi(i.pathname,t);return{shouldNavigate:Ct(r,n,s.pathname)&&Ct(r,n,c),absolutePath:pi(e,t)}}function mi(){const e=un(),{parser:t,base:r}=ee(),n=Lr(),i=g.useContext(Ee),s=i?.spaRoutes??It,c=i.startTimeFromTimeOriginRef,d=g.useCallback((m,o={},u)=>{c.current=performance.now();const a=Le(window.location.href);q.debug("Pushing route",{reason:u,path:m,previousPath:a.pathname,referrer:document.referrer,previousSearchParams:a.searchParams.toString(),previousUrl:a.toString()});const{shouldNavigate:h,absolutePath:l}=sr(m,r,s,t);h?window.history.pushState({},"",l):n?window.location.href=l:e.push(m,o)},[e,c,r,s,t,n]),p=g.useCallback(m=>{c.current=performance.now();const o=Le(window.location.href);q.debug("Refreshing route",{reason:m,path:window.location.pathname,referrer:document.referrer,previousSearchParams:o.searchParams.toString(),previousUrl:o.toString()}),e.refresh()},[e,c]),f=g.useCallback((m,o)=>{const u=Le(window.location.href);q.debug("Replacing route",{reason:o,path:m,previousPath:u.pathname,referrer:document.referrer,previousSearchParams:u.searchParams.toString(),previousUrl:u.toString()});const{absolutePath:a}=sr(m,r,s,t);window.history.replaceState({},"",a)},[r,t,s]);return g.useEffect(()=>{const m=()=>{c.current=performance.now()};return window.addEventListener("popstate",m),()=>{window.removeEventListener("popstate",m)}},[c]),g.useMemo(()=>({push:d.bind(e),refresh:p.bind(e),replace:f.bind(e),base:r,startTimeFromTimeOriginRef:c}),[e,d,p,f,r,c])}function Lr(){return g.useContext(Ee)?.strictSpa??!1}function wi(){return g.useContext(Ee)?.openNonSpaRouteInNewTab??!1}function gi(){const{parser:e}=ee(),t=g.useContext(Ee)?.spaRoutes??It;return g.useCallback(r=>Ct(t,e,r),[t,e])}function bi(e){const{parser:t}=ee(),r=g.useContext(Ee)?.spaRoutes??It,n=g.useRef({});if(!n.current[e]){const i=Ar(r,e,t);i&&(n.current[e]=i.params)}return n.current[e]}const vi=g.forwardRef(({href:e,onClick:t,target:r,...n},i)=>{const s=mi(),c=Lr(),d=wi(),p=gi(),[f,m]=g.useState(r);g.useEffect(()=>{!c||r==="_blank"||!e||!p(e)&&d&&m("_blank")},[e,p,c,r,d]);const o=g.useCallback(u=>{if(t?.(u),u.defaultPrevented)return;const a=navigator.userAgent.includes("Macintosh")||navigator.userAgent.includes("iPad");!(a&&u.metaKey)&&!(!a&&u.ctrlKey)&&e&&f!=="_blank"&&(u.preventDefault(),s.push(e))},[e,f,t,s]);return Je.jsx("a",{...n,ref:i,target:f,href:e,onClick:o})});vi.displayName="Link";function Qi(e,t){return(Array.isArray(e)?e:Object.values(e)).includes(t)}const es=()=>{const e=mn(),t=bi(e),r=pn();return g.useMemo(()=>({...t??{},...r}),[t,r])},or=2,Ei=500,yi={},Ur="lastCriticalImportFailure",Si=1e3*15,_i=()=>null;let ar=Promise.resolve();const ze=new Map;function ts(e,t=yi){const r=t.loading??_i,n=typeof navigator<"u"&&navigator.userAgent.includes("Mobile")&&!navigator.userAgent.includes("iPad"),i=typeof navigator<"u"&&"serviceWorker"in navigator&&!!navigator.serviceWorker.controller,s=typeof window<"u"&&window.location.hostname==="localhost",c=t.prefetch??(!i&&!n&&!s),d=async()=>{let p=0;for(;p<=or;)try{const f=await e();ze.set(e,f.default);break}catch(f){if(p===or){const m=new Error(f instanceof Error?f.message:"Dynamic import failed");if(m.name="ReactRenderingError",m.cause=f,q.error(m),t.critical){if(Ti())break;Ci()&&(q.warn("Reloading window",{reason:"critical import failure",url:window.location.href}),window.location.reload())}break}await new Promise(m=>setTimeout(m,Ei*Math.pow(2,p))),p++}};return c&&!ze.has(e)&&typeof window<"u"&&(ar=ar.then(()=>d())),function(f){const[,m]=g.useState(!1),o=g.useRef(!1);g.useEffect(()=>{if(!o.current){if(ze.has(e))return qt.flushSync(()=>m(a=>!a));d().then(()=>qt.flushSync(()=>m(a=>!a)))}},[]);const u=ze.get(e);return o.current=!!u,u?Je.jsx(u,{...f}):Je.jsx(r,{})}}const Ri=()=>{const e=Or.getItem(Ur);return e?new Date(Number.parseInt(e,10)):new Date},Ci=()=>Or.setItem(Ur,Date.now().toString()),Ti=()=>{const e=Ri();return isNaN(e.getTime())?!1:e.getTime()>Date.now()-Si},xi=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1},{property:"errors",enumerable:!1}],Tt=new WeakSet,ki=e=>{Tt.add(e);const t=e.toJSON();return Tt.delete(e),t},Ir=({from:e,seen:t,to:r,forceEnumerable:n,maxDepth:i,depth:s,useToJSON:c,serialize:d})=>{if(r||(Array.isArray(e)?r=[]:r={}),t.push(e),s>=i)return r;if(c&&typeof e.toJSON=="function"&&!Tt.has(e))return ki(e);const p=f=>Ir({from:f,seen:[...t],forceEnumerable:n,maxDepth:i,depth:s,useToJSON:c,serialize:d});for(const[f,m]of Object.entries(e)){if(m&&m instanceof Uint8Array&&m.constructor.name==="Buffer"){r[f]="[object Buffer]";continue}if(m!==null&&typeof m=="object"&&typeof m.pipe=="function"){r[f]="[object Stream]";continue}if(typeof m!="function"){if(!m||typeof m!="object"){try{r[f]=m}catch{}continue}if(!t.includes(e[f])){s++,r[f]=p(e[f]);continue}r[f]="[Circular]"}}for(const{property:f,enumerable:m}of xi)e[f]!==void 0&&e[f]!==null&&Object.defineProperty(r,f,{value:Pi(e[f])||Array.isArray(e[f])?p(e[f]):e[f],enumerable:!0,configurable:!0,writable:!0});return r};function rs(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:n=!0}=t;return typeof e=="object"&&e!==null?Ir({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:n,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function Pi(e){return!!e&&typeof e=="object"&&typeof e.name=="string"&&typeof e.message=="string"&&typeof e.stack=="string"}export{xn as $,rs as A,Pi as B,cn as C,ts as D,di as E,Q as F,Ii as G,Qi as H,Ar as I,ji as J,Di as K,vi as L,Bn as M,Fi as N,Mi as O,rt as P,Gi as R,Or as S,kr as a,qi as b,zi as c,Ji as d,Xi as e,Qt as f,Li as g,Zi as h,mn as i,ci as j,es as k,q as l,mi as m,Yi as n,gi as o,Ki as p,Wi as q,Ui as r,Ni as s,Le as t,Bi as u,Hi as v,Vi as w,Mn as x,ni as y,$i as z};
//# sourceMappingURL=platform-C_1Hdnuh.js.map
